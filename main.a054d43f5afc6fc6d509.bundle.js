(()=>{"use strict";var e={6476:(e,t,n)=>{var r=n(7294),a=n(3935),c=n(319),l=n.n(c),o=n(9713),i=n.n(o),u=n(7757),s=n.n(u),m=n(8926),f=n.n(m),d=n(3038),p=n.n(d),g=n(5905),v=n(9669),b=n.n(v),E=n(1120),h=n(3128),Z=n(2302),y=n(9613),x=n(8222),P=n(3750),O=n(7394),w=n(2318),N=n(9895),k=n(3832),S=n(5477);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D="https://productsdrf.azurewebsites.net/Products/",_=(0,E.Z)((function(e){return{root:{margin:2*e.spacing(1),padding:2*e.spacing(1),textAlign:"center"},progress:{margin:e.spacing(2)},mg:{margin:e.spacing(1)},contbutt:{paddingTop:e.spacing(2)}}}));function F(e){var t=e.loading,n=_();return t?r.createElement(S.Z,{className:n.progress}):null}const z=function(){var e=(0,r.useState)(!0),t=p()(e,2),n=t[0],a=t[1],c=(0,r.useState)(!0),o=p()(c,2),u=o[0],m=o[1],d=(0,r.useState)([]),v=p()(d,2),E=v[0],S=v[1],C=(0,r.useState)([]),z=p()(C,2),I=z[0],M=z[1],R=(0,r.useState)([{name:"ID",active:!1},{name:"Name",active:!1},{name:"Price",active:!1,numeric:!0},{name:"Reference",active:!1}]),A=p()(R,2),G=A[0],T=(A[1],(0,r.useState)(!0)),V=p()(T,2),B=V[0],q=V[1],H=(0,r.useState)(!1),J=p()(H,2),K=J[0],L=J[1],Q=(0,r.useState)(!1),U=p()(Q,2),W=U[0],X=U[1],Y=(0,r.useState)({name:"",price:"",reference:""}),$=p()(Y,2),ee=$[0],te=$[1];(0,r.useEffect)(f()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:q(!1);case 3:case"end":return e.stop()}}),e)}))),[]);var ne=function(){var e=f()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b().get(D).then((function(e){S(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=f()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b().delete(D+I.id+"/").then((function(e){S(E.filter((function(e){return e.id!==I.id}))),alert("Producto eliminado")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=f()(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b().put(D+I.id+"/",I).then((function(){var e=E;e=e.map((function(e){return I.id===e.id&&(e.name=I.name,e.price=I.price,e.reference=I.reference),e})),console.table(e),S(e)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){te(j(j({},ee),{},i()({},e.target.name,e.target.value)))},le=function(e){M(j(j({},I),{},i()({},e.target.name,e.target.value)))},oe=function(){return E.filter((function(e){return e.selected})).length},ie=_();return r.createElement(r.Fragment,null,r.createElement(N.Z,{className:ie.root},r.createElement(w.Z,{variant:"h4",id:"tableTitle"},"(".concat(oe(),") Productos Seleccionados")),r.createElement(Z.Z,null,r.createElement(P.Z,null,r.createElement(O.Z,null,G.map((function(e){return r.createElement(x.Z,{key:e.name},e.name)})))),r.createElement(y.Z,null,E.map((function(e){return r.createElement(O.Z,{key:e.id,onClick:(t=e.id,function(){var e=l()(E),n=E.findIndex((function(e){return e.id===t})),r=E[n];M(E[n]),e[n]=j(j({},r),{},{selected:!r.selected}),S(e),a(!1),m(!1),oe()>0&&(m(!0),a(!0))}),selected:e.selected},r.createElement(x.Z,{component:"th",scope:"row"},e.id),r.createElement(x.Z,null,e.name),r.createElement(x.Z,null,e.price),r.createElement(x.Z,null,e.reference));var t})))),r.createElement(F,{className:ie.root,loading:B}),r.createElement(k.Z,{className:ie.contbutt},r.createElement(h.Z,{className:ie.mg,variant:"contained",disabled:n,onClick:function(){re(),L(!1),X(!1)}},"Eliminar"),r.createElement(h.Z,{className:ie.mg,variant:"contained",disabled:u,onClick:function(){X(!0),L(!1)}},"Editar"),r.createElement(h.Z,{className:ie.mg,variant:"contained",onClick:function(){L(!0),X(!1)}},"Nuevo")),K?r.createElement(r.Fragment,null,r.createElement(w.Z,{variant:"h3"},"Agregar Producto"),r.createElement("form",{className:ie.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),b().post(D,ee).then((function(t){console.log(t),console.log(ee),S(E.concat(t.data)),e.target.reset()})).catch((function(e){console.log(e)}))}},r.createElement(g.Z,{className:ie.mg,id:"outlined-basic",label:"Producto",variant:"outlined",name:"name",onChange:ce}),r.createElement(g.Z,{className:ie.mg,id:"outlined-basic",label:"Precio",variant:"outlined",name:"price",onChange:ce}),r.createElement(g.Z,{className:ie.mg,id:"outlined-basic",label:"Referencia",variant:"outlined",name:"reference",onChange:ce}),r.createElement(h.Z,{className:ie.mg,variant:"contained",color:"primary",type:"submit",size:"large"},"Guardar"))):null,W?r.createElement(r.Fragment,null,r.createElement(k.Z,null,r.createElement(w.Z,{variant:"h3"},"Modificar Producto"),r.createElement("form",{className:ie.root,noValidate:!0,autoComplete:"off",onSubmit:ae},r.createElement(g.Z,{className:ie.mg,id:"outlined-basic",label:"Producto",variant:"outlined",name:"name",onChange:le,value:I.name}),r.createElement(g.Z,{className:ie.mg,id:"outlined-basic",label:"Precio",variant:"outlined",name:"price",onChange:le,value:I.price}),r.createElement(g.Z,{className:ie.mg,id:"outlined-basic",label:"Referencia",variant:"outlined",name:"reference",onChange:le,value:I.reference}),r.createElement(h.Z,{className:ie.mg,variant:"contained",color:"primary",type:"submit",size:"large"},"Guardar")))):null))},I=function(){return r.createElement(r.Fragment,null,r.createElement(z,null))};var M=n(5834);a.render(r.createElement(r.StrictMode,null,r.createElement(M.ZP,null),r.createElement(I,null)),document.getElementById("app"))}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0},t=[[6476,170]],r=e=>{},a=(a,c)=>{for(var l,o,[i,u,s,m]=c,f=0,d=[];f<i.length;f++)o=i[f],n.o(e,o)&&e[o]&&d.push(e[o][0]),e[o]=0;for(l in u)n.o(u,l)&&(n.m[l]=u[l]);for(s&&s(n),a&&a(c);d.length;)d.shift()();return m&&t.push.apply(t,m),r()},c=self.webpackChunkreact_base_template=self.webpackChunkreact_base_template||[];function l(){for(var r,a=0;a<t.length;a++){for(var c=t[a],l=!0,o=1;o<c.length;o++){var i=c[o];0!==e[i]&&(l=!1)}l&&(t.splice(a--,1),r=n(n.s=c[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),r}c.forEach(a.bind(null,0)),c.push=a.bind(null,c.push.bind(c));var o=n.x;n.x=()=>(n.x=o||(e=>{}),(r=l)())})(),n.x()})();